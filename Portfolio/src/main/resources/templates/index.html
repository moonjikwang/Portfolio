<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" data-bs-theme="dark">
<head>
<title>new Portfolio(); - index</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1">
<meta name="theme-color" content="#060b12">
<link rel="manifest" href="manifest.json">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="icon" type="image/x-icon" href="https://tomcat.jikwang.net/Portfolio/img/menu.png">
<link rel="shortcut icon" type="image/x-icon" href="https://tomcat.jikwang.net/Portfolio/img/menu.png">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Righteous&family=Noto+Sans+KR:wght@500&family=Raleway:wght@900&family=Ubuntu:wght@500&display=swap" rel="stylesheet">
<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/static/pretendard.css" />
<link rel="stylesheet" href="css/main.css">
<script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('https://tomcat.jikwang.net/Portfolio/sw.js', {
    	  scope: 'https://tomcat.jikwang.net/Portfolio'
    })
      .then(registration => {
        console.log('Service worker registered: ', registration);
      })
      .catch(registrationError => {
        console.log('Service worker registration failed: ', registrationError);
      });
  });
}
</script>
</head>
<body>
	<div class="py-3" style="padding-left: 0px; padding-right: 0px;">
		<!-- header fragment 사용 -->
		<th:block th:replace="fragments/header :: headerFragment"></th:block>
		<!-- 캐러셀시작 -->
		<div class="container-fluid p-0 mb-5 wow fadeIn" data-wow-delay="0.1s">
			<div id="header-carousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
				<div class="carousel-inner">
					<div class="carousel-item active">
						<img class="pc100" src="img/Graphic-Green-Wave.png" alt="Image" height="500px;" style="z-index: 30; display: inline-block; left: 300px !important;">
						<div class="carousel-caption" style="z-index: 100;">
							<div class="container">
								<div class="row justify-content-start">
									<div class="col-lg-8">
										<h5 class="display-3 mb-4 animated slideInDown"style="text-align: left; font-family: 'Noto Sans KR', sans-serif; white-space: nowrap;">
											나만의 포트폴리오를<br>손쉽게 만들고<br>공유하세요🤩
										</h5>
										<a href="about" data-bs-toggle="modal"
						data-bs-target="#feedBack" style="float: left;" class="btn btn-primary py-3 px-5 animated slideInDown">
										Learn more
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div><!-- 캐러셀 끝 -->
		<main class="container">
			<div class="col-12 row row-cols-1 row-cols-md-3 row-cols-lg-3 row-cols-xl-4 mb-3 text-center" style="padding: 0px;" id="portFolioList">
				<div class="col" th:each="portfolio : ${portfolios}">
					<a th:href="@{feedback(email=${portfolio.email})}" style="text-decoration: none; color: #adb5bd;">
						<div class="card mb-4 shadow-sm" style="margin-left: 5px; margin-right: 5px; background-color: #1f1f1f;">	
    						<img th:src="${portfolio.projects != null and portfolio.projects.size() > 0 and portfolio.projects[0].imgUrl != null ? portfolio.projects[0].imgUrl : 'img/cardb.jpg'}" class="card-img-top" height="220px" alt="..."/>
								<div class="card-body">
									<small class="text-muted fw-light" style="color: #FFFFFF !important;">
										작성일 | [[${#temporals.format(portfolio.regDate,'yyyy-MM-dd HH:mm')}]]
									</small>
									<div class="list-unstyled mt-3 mb-4">
										<span class=" h6">
											<b style="color: #FFFFFF;">
												[[${portfolio.name}]]님의 포트폴리오
											</b>
											<br>
										</span>
										<span th:if="${portfolio.intro != null}" th:text="${portfolio.intro.length() > 35 ? #strings.substring(portfolio.intro, 0, 35) : portfolio.intro} + ..."></span>
										<span th:if="${portfolio.intro == null}"><br><br></span>
									</div>
									<hr>
									<img th:src="${portfolio.profileImg}" alt="" width="25" height="25" class="rounded-circle me-2">
									<span>
										<b style="color: #FFFFFF;">
											[[${portfolio.name}]]
										</b>
									</span>
									<span style="float: right">
										<svg xmlns="http://www.w3.org/2000/svg" width="16"height="16" fill="currentColor" class="bi bi-eye"viewBox="0 0 16 16">
  											<path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z" />
  											<path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
										</svg>
										<small>
											[[${portfolio.viewCount}]]
										</small>
										<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
  											<path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
										</svg>
										<small>
											2
										</small>
									</span>
								</div>
							</div>
						</a>
				</div>
			</div>
			<th:block th:replace="fragments/modal :: modalFragment"></th:block>
		</main>
		<!-- footer fragment 사용 -->
		<th:block th:replace="fragments/footer :: footerFragment"></th:block>
		<a id="back-to-top" href="#" class="btn btn-light btn-lg back-to-top" style="color: white; background: linear-gradient(to bottom right, #05890e, #4fba43); border: none;" role="button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
  			<path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z" />
		</a>
	</div>
	

	
	<script th:inline="javascript">
		$(document).ready(function() {
			var emailval = /*[[${regiInfo}]]*/"";
			if (emailval != null) {
				$('#test').modal('show');
			}
			$(window).scroll(function() {
				if ($(this).scrollTop() > 50) {
					$('#back-to-top').fadeIn();
				} else {
					$('#back-to-top').fadeOut();
				}
			});
			// scroll body to 0px on click
			$('#back-to-top').click(function() {
				$('body,html').animate({
					scrollTop : 0
				}, 400);
				return false;
			});
		});
	</script>
	<script>
	let deferredPrompt

	window.addEventListener('beforeinstallprompt', event => {
	    event.preventDefault()
	    deferredPrompt = event
	})

	const installApp = () => {
	    if (!deferredPrompt) {
	        alert('이미 앱이 설치되어 있거나 앱을 설치할 수 없는 환경입니다')
	        return
	    }

	    deferredPrompt.prompt()
	}
	
	</script>
	<script>
		var multipleCardCarousel = document.querySelector("#carouselExample");
		if (window.matchMedia("(min-width: 768px)").matches) {
			var carousel = new bootstrap.Carousel(multipleCardCarousel, {
				interval : false,
			});
			var carouselWidth = $(".carousel-inner")[0].scrollWidth;
			var cardWidth = $(".carousel-item").width();
			var scrollPosition = 0;
			$("#carouselExample .carousel-control-next").on("click",
					function() {
						if (scrollPosition < carouselWidth - cardWidth * 4) {
							scrollPosition += cardWidth;
							$("#carouselExample .carousel-inner").animate({
								scrollLeft : scrollPosition
							}, 600);
						}
					});
			$("#carouselExample .carousel-control-prev").on("click",
					function() {
						if (scrollPosition > 0) {
							scrollPosition -= cardWidth;
							$("#carouselExample .carousel-inner").animate({
								scrollLeft : scrollPosition
							}, 600);
						}
					});
		} else {
			$(multipleCardCarousel).addClass("slide");
		}
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>